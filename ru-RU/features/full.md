
" "  
"---" 
" "    
Использование шаблонов и обработок в реальной работе
====================================================

Как специалист по 1С с любой ролью

И активным акаунтом на GitHub

Я хочу работать с 1С по правильному

Создание запросов на изменение или улучшение функциональности
-------------------------------------------------------------

**Когда** я обнаружил что мне не хватает функциональности в комплекте Vanessa-Stack

**Тогда** я создаю Issue в проектах https://github.com/silverbulleters

**И** описываю необходимо в формате BDD использую ключевые слова Gherkin

Создание запросов на бесплатную консультацию
--------------------------------------------

**Когда** я изучил все WiKi и README.md в проектах https://github.com/silverbulleters

**И** мне необходима дополнительная консультации

**Тогда** я захожу в чат связанного проекта https://gitter.im/silverbulleters

**И** задаю вопрос описывая свою проблему в свободной форме

**И** жду ответа от разработчиков или других пользователей

Регистрация ошибок в Vanessa-Stack
----------------------------------

**Когда** я обнаружил ошибку

**И** смогу описать сценарий её воспроизведения в формате BDD используя ключевые слова Gherkin

**Тогда** я создаю Issue в проектах https://github.com/silverbulleters

**И** вместе с этим указываю ветку где воспроизводиться ошибка master или develop

**И** указываю версию проекта в котором воспроизводится ошибка

Участие в раширении документации
--------------------------------

**Когда** я начал активно использовать Vanessa-Stack

**И** накопил свой опыт использования

**И** я готов внести уточнения в WiKi Vanessa-Stack (в частности Vanessa Bootstrap)

**Тогда** я захожу на GitHub и редактирую WiKi через концепцию pull request

Контрибьюция кода
-----------------

**Когда** я решил добавить функциональность в Vanessa-Stack

**Тогда** я сделал fork проекта

**И** иницировал git-flow в своей копии репозитория

**И** написал Feature файл с нужной мне функциональностью

**И** сгенериривал step\_definitions для доработки через поведение

**И** реализовал функциональность

**И** запустил сценарии через обработку vanessa-behavior

**И** только после этого сделал pull request для включения функциональности в основной ствол

Прототипирование задачи для оценки требований архитектором
==========================================================

Как человек решивший взять себе в проекте роль архитектора

Я хочу чтобы была возможность спрототипировать будущее поведение системы 1С, создавай наброски метаданных

И эмулируя ожидаемое поведение системы

Прототипирование задачи в виде прототипа интерфейса самим заказчиком
====================================================================

Как заказчик продукту или проекта

Я хочу быстро спроектировать будущий интерфейс рабочего стола определенной роли

И передать прототип на первичный анализ в команду 1С специалистов

| **Предыстория**                                
 ---------------                                 
                                                 
 **Дано** СистемаУправленияТребованиями          
                                                 
 **И** я имею доступ на создание в ней запросов  |
|------------------------------------------------|

Создание наброска интерфейса
----------------------------

**Дано** Существует 1С информационная система

**Когда** я начинаю создавать набросок интерфейса

**Тогда** я тогда я открываю обработку ".\\vendors\\vanessa-mockup"

**И** после создания наброска создаю запрос в СистемаУправленияТребованиями с прикрепленным наброском

Сбор требований для разработки на 1С
====================================

Как челочек решивший взять на себе в проекте роль системного аналитика

Я хочу чтобы требования были сформулированы структурировано

И хочу чтобы требования были понятны всем участникам проекта, включая заказчика

| **Предыстория**                                    
 ---------------                                     
                                                     
 **Когда** Существует СистемаУправленияТребованиями  
                                                     
 **И** в ней зафиксированы запросы от пользователей  
                                                     
 **И** в ней зафиксированы мои заметки               |
|----------------------------------------------------|

Обработка требований из систем управления требованиями
------------------------------------------------------

**Дано** Существует \<СистемаУправленияТребованиями\>

**Когда** я получаю оповещение об \<Запрос\>

**Тогда** я открываю обработку ".\\vendors\\vanessa-bdd-editor"

**И** формулирую требования на языке Gherkin

**И** после сохранения помещаю изменения в git c помощью \<ТэгСвязи\> с \<Запрос\>

### Examples: 

| СистемаУправленияТребованиями | Запрос  | ТэгСвязи |
|-------------------------------|---------|----------|
| http://redmine.org            | Issue   | \#       |
| http://jira.com               | Request | \#       |
| https://github.com            | Issue   | \#       |
| https://bitbucket.com         | Issue   | \#       |


" "  
"---" 
" "  
Созданние шаблонной структуры каталогов бизнес-компонент
========================================================

Как Системный аналитик

Я хочу При первичном открытиии обработки создавать необходимую шаблонную структуру каталогов бизнес-компонент

Чтобы Изначально структурировать функционал по функциональным заказчикам и функциональной методологии

| **Предыстория**                                               
 ---------------                                                
                                                                
 Дано: Существует обработка \`bdd-editor.epf\`                  
                                                                
 и я нахожусь на закладке \`Структура компонент\`               
                                                                
 и существует каталог хранения шаблонов \`.\\libs\\templates\`  |
|---------------------------------------------------------------|

Загрузка шаблонов для систем типа ERP
-------------------------------------

**Когда** Я нажимаю кнопку интерфейса \`Выбрать шаблон функциональных требований\`

**И** в каталоге features совершенно отсутствуют подкаталоги

**И** выбираю из списка \`ERP\`

**Тогда** в каталоге \`структура требований для загрузки\` создаются каталоги на основе файла \`.\\libs\\templates\\erp-bc.yml\`

**И** создался файл \`.\\features\\components.ini\` с идентификатором erp-bc.yml

Загрузка шаблонов для систем типа Управления торговлей
------------------------------------------------------

**Когда** Я нажимаю кнопку интерфейса \`Выбрать шаблон функциональных требований\`

**И** в каталоге features совершенно отсутствуют подкаталоги

**И** выбираю из списка \`Управление торговлей\`

**Тогда** в каталоге \`структура требований для загрузки\` создаются каталоги на основе файла \`.\\libs\\templates\\om-bc.yml\`

**И** создался файл \`.\\features\\components.ini\` с идентификатором om-bc.yml

Загрузка шаблонов для систем типа Бухгалтерия предприятия
---------------------------------------------------------

**Когда** Я нажимаю кнопку интерфейса \`Выбрать шаблон функциональных требований\`

**И** в каталоге features совершенно отсутствуют подкаталоги

**И** выбираю из списка \`Бухгалтерия и финансы\`

**Тогда** в каталоге \`структура требований для загрузки\` создаются каталоги на основе файла \`.\\libs\\templates\\fi-bc.yml\`

**И** создался файл \`.\\features\\components.ini\` с идентификатором fi-bc.yml

Загрузка шаблонов для систем типа Зарплата и управления персоналом
------------------------------------------------------------------

**Когда** Я нажимаю кнопку интерфейса \`Выбрать шаблон функциональных требований\`

**И** в каталоге features совершенно отсутствуют подкаталоги

**И** выбираю из списка \`Зарплата и персонал\`

**Тогда** в каталоге \`структура требований для загрузки\` создаются каталоги на основе файла \`.\\libs\\templates\\hrm-bc.yml\`

**И** создался файл \`.\\features\\components.ini\` с идентификатором hrm-bc.yml

Загрузка шаблонов для систем с нуля или прочих систем
-----------------------------------------------------

**Когда** Я нажимаю кнопку интерфейса \`Выбрать шаблон функциональных требований\`

**И** в каталоге features совершенно отсутствуют подкаталоги

**И** выбираю из списка \`Прочие системы\`

**Тогда** в каталоге \`структура требований для загрузки\` создаются каталоги на основе файла \`.\\libs\\templates\\empty-bc.yml\`

**И** создался файл \`.\\features\\components.ini\` с идентификатором empty-bc.yml

Загрузка шаблонов для внешних обработок и расширений 1С
-------------------------------------------------------

**Когда** Я нажимаю кнопку интерфейса \`Выбрать шаблон функциональных требований\`

**И** в каталоге features совершенно отсутствуют подкаталоги

**И** выбираю из списка \`Внешняя обработка или расширение\`

**Тогда** в каталоге \`структура требований для загрузки\` создаются каталоги на основе файла \`.\\libs\\templates\\libs-bc.yml\`

**И** создался файл \`.\\features\\components.ini\` с идентификатором libs-bc.yml

Работа с исходными вбросами заказчика
=====================================

Как Системный аналитик

Я хочу Сохранение исходного вброса в каталог хранения

Чтобы Иметь возможность отделить feature-файлы от неструктурированных исходных вбросов

| **Предыстория**                                  
 ---------------                                   
                                                   
 **Дано** Существует обработка \`bdd-editor.epf\`  
                                                   
 **И** я нахожусь на закладке \`Исходные вбросы\`  |
|--------------------------------------------------|

Сохранение неструктурированных вбросов
--------------------------------------

**Когда** Я выбираю файлы исходного вброса от заказчика

**И** Нажимаю кнопку \`Сохранить исходники\`

**Тогда** выбранные файлы перемещаются во временный каталог хранения исходников

Когда И Тогда

Обновление шаблонной структуры каталогов бизнес-компонентов
===========================================================

Как Системный аналитик

Я хочу Если в обработке обновились шаблоны, обновить свою старую структуру каталогов

Чтобы Постоянно соответствовать корректной структуре согласно функциональности типовых конфигураций

| **Предыстория**                                               
 ---------------                                                
                                                                
 Дано: Существует обработка \`bdd-editor.epf\`                  
                                                                
 и я нахожусь на закладке \`Структура компонент\`               
                                                                
 и существует каталог хранения шаблонов \`.\\libs\\templates\`  |
|---------------------------------------------------------------|

Обновление известной структуры бизнес-компонент
-----------------------------------------------

**Когда** в каталоге features уже есть подкаталоги

**И** существует файл \`.\\features\\components.ini\`

**И** в файле указан один из известных идентификаторов шаблонов

**И** я нажимаю кнопку \`Обновить структуру компонент\`

**Тогда** текущая структура сравнивается с новой структурой

**И** создаются недостающие каталоги согласно шаблона

**И** удаляются если каталоги отсутствуют в новом шаблоне, при отсутствии в них feature файлов

**И** каталоге отсутствующие в новом шаблоне, при наличии в них feature файлов переносятся в папку ForAudit

Обновление неопознанной структуры бизнес-компонент
--------------------------------------------------

**Когда** в каталоге features уже есть подкаталоги

**И** несуществует файл \`.\\features\\components.ini\`

**И** я нажимаю кнопку \`Обновить структуру компонент\`

**И** выбираю из списка один и существующих шаблонов

**Тогда** текущая структура сравнивается с новой структурой согласно выбранного шаблона

**И** создаются недостающие каталоги согласно шаблона

**И** удаляются если каталоги отсутствуют в новом шаблоне, при отсутствии в них feature файлов

**И** каталоге отсутствующие в новом шаблоне, при наличии в них feature файлов переносятся в папку ForAudit

Замена одной известной структуры на другую
------------------------------------------

**Когда** Кто-то на GitHub захочет подобного \`изменить структуру с ERP на HRM например\`

**И** будет убеждать что это правильно

**Тогда** мы ему отвечаем что это фактически означает смену продукта (например с ERP на HRM), что к BDD относится чуть меньше чем никак

**И** мы его отправляем думать над сценариями использования

Написание feature-файлов по исходному вбросу заказчика
======================================================

Как Системный аналитик

Я хочу Писать feature-файлы по исходному вбросу заказчика и фиксировать ссылку на исходный вброс

Чтобы Иметь возможность из feature-файла перейти к исходному вбросу и редактировать feature-файл видя вброс

| **Предыстория** 
 ---------------  
                  
 **Дано**         |
|-----------------|

Когда И Тогда

Когда И Тогда

Использование бихавиора совместно с эдитором
============================================

Как пользователь

Я хочу одновременно работать в обоих обработках

Чтобы было удобно работать

| **Предыстория**          
 ---------------           
                           
 **Дано** конфигурация 1С  |
|--------------------------|

первичное получение фича-файлов из behavior
-------------------------------------------

**Когда** Я открываю обработку BDD-Editor

**И** вызываю обработку behavior

**И** передаю каталог инструментов в behavior

**Тогда** я получаю дерево фича-файлов

открытие behavior для дальнейшей работы
---------------------------------------

**Когда** я закончила редактирование фича-файлов в BDD-Editore

**И** открываю behavior для дальнейшей работы в этом же сеансе 1С

**И** нажимаю "загрузить одну фичу" или "загрузить фичи из каталога"

**Тогда** каталог инструментов заполняется корректный

**И** заполняется "Дерево тестов"

" "  
"---" 
" "  
Я хочу работать с командным интерфейсом 1С 8.3.x
================================================

Как Разработчик я хочу

Чтобы у меня была библиотека для стандартных команд 1С при работе с UI 1С 8.3.x

чтобы я мог запускать автосгенерированные фичи по действиям пользователя без написания кода

| **Предыстория**                                   
 ---------------                                    
                                                    
 **Дано** Я закрыл все окна клиентского приложения  |
|---------------------------------------------------|

Простой проверочный сценарий для фичи проверки перегенерации epf
----------------------------------------------------------------

**Когда** Я нажимаю кнопку командного интерфейса "Основная"

**И** Я нажимаю кнопку командного интерфейса "Справочник1"

**Тогда** открылось окно "Справочник1"

**И** В форме "Справочник1" в таблице "Список" я перехожу к строке:

| Код       | Наименование       |
|-----------|--------------------|
| 000000002 | Тестовый Элемент 1 |

Я хочу работать с командным интерфейсом 1С 8.3.x
================================================

Как Разработчик я хочу

Чтобы у меня тестовая фича

чтобы я мог её использовать для проверки функционала перегенерации epf

Тестовый сценарий
-----------------

**Когда** Первый шаг

**Тогда** Второй шаг

Служебная фича для проверки работы облстей
==========================================

Как Разработчик

Я Хочу чтобы чтобы у меня была служебная фича для проверки работы облстей

Проверка
--------

**Когда** Первый шаг фичи Проверка работы областей в дереве

**Когда** Первый шаг фичи Проверка работы областей в дереве

**Когда** Первый шаг фичи Проверка работы областей в дереве

**Тогда** Второй шаг фичи Проверка работы областей в дереве

**Тогда** Второй шаг фичи Проверка работы областей в дереве

**Тогда** Второй шаг фичи Проверка работы областей в дереве

**Тогда** Второй шаг фичи Проверка работы областей в дереве

**И** Третий шаг фичи Проверка работы областей в дереве

**И** Третий шаг фичи Проверка работы областей в дереве

**И** Третий шаг фичи Проверка работы областей в дереве

**И** Третий шаг фичи Проверка работы областей в дереве

**Тогда** Второй шаг фичи Проверка работы областей в дереве

**Тогда** Второй шаг фичи Проверка работы областей в дереве

**Тогда** Второй шаг фичи Проверка работы областей в дереве

**Тогда** Второй шаг фичи Проверка работы областей в дереве

Проверка выполнения простого сценария
=====================================

Как Разработчик

Я Хочу чтобы чтобы у меня была возможность выполнять сценарии в vanessa-behavior

Выполнение простого сценария
----------------------------

**Когда** у меня есть простой шаг

**То** я могу этот шаг выполнить

**И** я могу продолжить выполнение шагов в хост системе

Послідовні обчислення
=====================

Для того щоб здуйснювати складні обчислення

Користувачі хочуть проводити дії над результатом попередньої операції

| **Предыстория**              
 ---------------               
                               
 **Припустимо** я додав 3 і 5  |
|------------------------------|

додавання зі збереженням результату попередньої дії
---------------------------------------------------

**Якщо** я ввожу число 4

**І** натискаю "+"

**То** результатом повинно бути число 12

ділення результату попередньої операції
---------------------------------------

**Якщо** я ввожу число 2

**І** натискаю "/"

**То** результатом повинно бути число 4

Загрузить фичу в vanessa-behavior
=================================

Как Разработчик

Я Хочу чтобы чтобы у меня была возможность загрузить произвольную тестовую фичу в vanessa-behavior

Загрузка тестовой фичи перегенерация epf
----------------------------------------

**Когда** Фича содержит просто строку

**И** Фича содержит строку с точкой в конце.

**И** в epf появился шаг, которого не было раньше

**Тогда** epf по фиче создается корректно

Загрузить фичу в vanessa-behavior
=================================

Как Разработчик

Я Хочу чтобы чтобы у меня была возможность загрузить произвольную тестовую фичу в vanessa-behavior

Загрузка тестовой фичи генерация epf
------------------------------------

**Когда** Фича содержит просто строку

**И** Фича содержит строку с точкой в конце.

**И** 1С фича содержит первым значимым сиволом цифру

**И** фича содержит шаг с передачей параметра "ПараметрСтрока"

**И** фича содержит число 10, и запятую после него

**И** фича содержит специальный текстовый почти числовой параметр "ПараметрЧисло"

**Тогда** epf по фиче создается корректно

Проверка что шаги снипеты будут получены верно
----------------------------------------------

**Когда** фича содержит число \<ПараметрУУУ\>, и запятую после него

**И** фича содержит ещё один загадочный параметр \<ПараметрЕЕЕ\>

### Examples: 

| ПараметрУУУ | ПараметрЕЕЕ |
|-------------|-------------|
| 5           | 10          |

Загрузить фичу в vanessa-behavior
=================================

Как Разработчик

Я Хочу чтобы чтобы у меня была возможность загрузить произвольную тестовую фичу в vanessa-behavior

Загрузка тестовой фичи проверка с выбранного шага
-------------------------------------------------

**Когда** Я увеличил значение "СлужебныйПараметр" в КонтекстСохраняемый на 1

**И** Этот шаг вообще не реализован

**И** Я могу продолжить выполнение шагов в хост системе

Загрузить фичу в vanessa-behavior
=================================

Как Разработчик

Я Хочу чтобы чтобы у меня была возможность загрузить произвольную тестовую фичу в vanessa-behavior

Загрузка тестовой фичи проверка с выбранного шага
-------------------------------------------------

**Когда** Я увеличил значение "СлужебныйПараметр" в КонтекстСохраняемый на 1

**И** Я увеличил значение "СлужебныйПараметр" в КонтекстСохраняемый на 1

**И** Я увеличил значение "СлужебныйПараметр" в КонтекстСохраняемый на 1

**И** Я могу продолжить выполнение шагов в хост системе

Загрузить фичу в vanessa-behavior
=================================

Как Разработчик

Я Хочу чтобы чтобы у меня была возможность загрузить произвольную тестовую фичу в vanessa-behavior

Загрузка тестовой фичи основная тестовая фича
---------------------------------------------

**Когда** Я загрузил специальную тестовую фичу "ОсновнаяТестоваяФича"

**Тогда** ДеревоТестов заполнилось строками из фичи

Загрузить фичу в vanessa-behavior
=================================

Как Разработчик

Я Хочу чтобы чтобы у меня была возможность загрузить произвольную тестовую фичу в vanessa-behavior

Возникновение ошибки в ПередНачаломСценария
-------------------------------------------

**Когда** Я уверен что этот шаг не будет выполняться

Продолжение работы
------------------

**Когда** Возврат в хост систему

Загрузить фичу в vanessa-behavior
=================================

Как Разработчик

Я Хочу чтобы чтобы у меня была возможность загрузить произвольную тестовую фичу в vanessa-behavior

Возникновение ошибки в ПередНачаломСценария
-------------------------------------------

**Когда** Я уверен что этот шаг не будет выполняться

Продолжение работы
------------------

**Когда** Возврат в хост систему

Создание нового feature-файла
=============================

Как Разработчик

Хочу Иметь возможность писать feature-файлы

Чтобы Вести разработку по bdd

Создание feature-файла
----------------------

**Когда** Я открываю текстовый редактор

**И** Я пишу текст feature-файла

**И** Сохраняю сделанные изменения

**Тогда** На диске появляется feature-файл

Открытие обработки vanessa-behavior
===================================

Как Разработчик

Хочу Иметь возможность открыть обработку vanessa-behavior

Чтобы Вести разработку по bdd

Открытие 1C
-----------

**Дано** Я запускаю 1С в режиме клиента тестирвания

Открытие обработки
------------------

**Дано** Я в запущеном экземпляре 1С в режиме клиента тесторования открываю обработку vanessa-behavior

Закрытие 1С
-----------

**Дано** Я закрываю запущенный в режиме клиент тестирования экземпляр 1С

Исследование работы обработки vanessa-behavior
==============================================

Как Правильный разработчик

Хочу Разобраться в том как методология BDD реализована в обработке vanessa-behavior

Чтобы Использовать полученные навыки на практике

Работа с параметрами
--------------------

**Когда** Я обрамляю слово кавычками "Тест"

**Тогда** Я получаю слово обрамленное кавычками как параметр

Работа без параметров
---------------------

**Когда** Я хочу выделить в feature-файле слово но не хочу передавать его как памаметр

**Тогда** Я обрамляю его звездочками \*Тест\*

Объединение нескольких одинаковых сценариев в структуре
-------------------------------------------------------

**Когда** Я обрамляю переменную угловыми скобками \<Тест\>

**Тогда** Будет создан один шаг но вызван он будет столько раз сколько значений есть в примере

### Examples: 

| Тест       |
|------------|
| 150        |
| Проба      |
| 19.11.2015 |
| -150       |

Работа с параметрами-таблицами
------------------------------

**Когда** Я в конце строки ставлю двоеточие а после двоеточия создаю таблицу:

| Товар       | Количество | СчетУчета |
|-------------|------------|-----------|
| Холодильник | 5          | 41.01     |
| Карандаш    | 100        | 004.01    |

**Тогда** В параметр будет передана таблицами

Загрузка feature-файла в vanessa-behavior
=========================================

Как Разработчик

Хочу Иметь возможность загрузить feature-файл в обработку vanessa-behavior

Чтобы Вести разработку по bdd

Открытие 1C для открытия фичи
-----------------------------

**Дано** Я запускаю 1С в режиме клиента тестирвания

Открытие обработки
------------------

**Дано** Я в запущеном экземпляре 1С в режиме клиента тесторования открываю обработку vanessa-behavior

Загрузка feature-файла
----------------------

**Дано** Я выполняю действия для загрузки feature-файла

Закрытие 1С
-----------

**Дано** Я закрываю запущенный в режиме клиент тестирования экземпляр 1С

Скачивание программ, необходимых для работы
===========================================

Как Разработчик

Я хочу скачать необходимые программы

Скачивание Git из интернета
---------------------------

**Когда** Я открыл в браузере сайт "https://git-scm.com/downloads"

**Тогда** Я нажал на кнопку Download на сайте git

Скачивание Python из интернета
------------------------------

**Когда** Я открыл в браузере сайт "https://www.python.org/downloads/"

**И** Я нажимаю на кнопку Download Python 3x

Скачивание Sourcetree из интернета
----------------------------------

**Когда** Я открыл в браузере сайт "https://www.sourcetreeapp.com/"

**Тогда** Я нажал на кнопку Download на сайте sourcetree

Проверка того как отработала процедура ПередОкончаниемСценария
==============================================================

Как Разработчик

Я Хочу чтобы чтобы при возникновении ошибки в процедуре ПередОкончаниемСценария происходило падение сценария

Обработка ошибки в процедуре ПередОкончаниемСценария
----------------------------------------------------

**Когда** я открыл форму VanessaBehavoir в режиме самотестирования

**И** я загрузил специальную тестовую фичу "ОбработкаОшибкиВПроцедуреПередОкончаниемСценария"

**И** я прервал выполнение шагов в хост системе и я нажал на кнопку "ВыполнитьСценарии"

**Тогда** в тестируемом экземпляре не выполнился первый сценарий

**И** Я продолжил выполнение шагов в хост системе

Проверка того как отработала процедура ПередНачаломСценария
===========================================================

Как Разработчик

Я Хочу чтобы чтобы при возникновении ошибки в процедуре ПередНачаломСценария происходило падение сценария

Обработка ошибки в процедуре ПередНачаломСценария
-------------------------------------------------

**Когда** я открыл форму VanessaBehavoir в режиме самотестирования

**И** я загрузил специальную тестовую фичу "ОбработкаОшибкиВПроцедуреПередНачаломСценария"

**И** я прервал выполнение шагов в хост системе и я нажал на кнопку "ВыполнитьСценарии"

**Тогда** в тестируемом экземпляре не выполнился первый сценарий

**И** Я продолжил выполнение шагов в хост системе

Проверка работы областей в дереве
=================================

Как Разработчик

Я Хочу чтобы чтобы у меня была возможность на основании службеных слов Область и КонецОбласти группировать шаги

Для того чтобы я мог удобно расположить шаги в дереве

Загрузка фичи в которой указаны области
---------------------------------------

**Когда** я открыл форму VanessaBehavoir в режиме самотестирования

**И** я загрузил специальную тестовую фичу "ПростаяФичаДляПроверкиРаботыОбластей"

**Тогда** в дереве загруженной фичи будет группа "ПерваяГруппа"

**И** в дереве загруженной фичи будет группа "ВтораяГруппа"

**И** в дереве загруженной фичи внутри группы "ВтораяГруппа" будет группа "ТретьяГруппа"

**И** в дереве загруженной фичи шаг "Когда Первый шаг фичи Проверка работы областей в дереве" будет внутри группы "ПерваяГруппа"

**И** в дереве загруженной фичи шаг "Тогда Второй шаг фичи Проверка работы областей в дереве" будет внутри группы "ВтораяГруппа"

**И** в дереве загруженной фичи шаг "И Третий шаг фичи Проверка работы областей в дереве" будет внутри группы "ТретьяГруппа"

Проверка передачи контекста между шагами
========================================

Как Разработчик

Я Хочу чтобы чтобы у меня была возможность передавать состояние системы между шагами и сценариями

Проверка передачи контекста
---------------------------

**Когда** я поместил в структуру Контекст значение "ТестоваяСтрокаКонтекст"

**И** я поместил в структуру КонтекстСохраняемый значение "ТестоваяСтрокаКонтекстСохраняемый"

**Тогда** я смог прочитать из структуры Контекст значение "ТестоваяСтрокаКонтекст"

**И** я смог прочитать из структуры КонтекстСохраняемый значение "ТестоваяСтрокаКонтекстСохраняемый"

Проверка запуска простого сценария
==================================

Как Разработчик

Я Хочу чтобы чтобы у меня была возможность на основании фичи делать запуск сценария тестирования

Запуск простого сценария
------------------------

**Когда** я открыл форму VanessaBehavoir в режиме самотестирования

**И** я загрузил специальную тестовую фичу "ПростаяФичаДляПроверкиРаботыВыполненияСценария"

**И** я прервал выполнение шагов в хост системе и я нажал на кнопку "ВыполнитьСценарии"

**Тогда** в тестируемом экземпляре выполнился сценарий

**И** Я продолжил выполнение шагов в хост системе

Проверка выполнения сценария с выбранного шага
==============================================

Как Разработчик

Я Хочу чтобы я мог выполнить сецнарий с произвольного шага

Выполнение сценария со второго шага когда не все шаги реализованны
------------------------------------------------------------------

**Когда** я открыл форму VanessaBehavoir в режиме самотестирования

**И** я загрузил специальную тестовую фичу "ПроверкаВыполнитьСценарийСВыбранногоШагаВторойШагНеРеализован"

**И** я установил специальную служебную экспортную переменную СлужебнаяПеременная у открытого VanessaBehavoir равной 0

**И** в форме открытого VanessaBehavoir я установил флаг объекта "СохранятьКонтекстыПередВыполнениемШагов"

**И** я прервал выполнение шагов в хост системе и я нажал на кнопку "ВыполнитьСценарии"

**Тогда** в тестируемом экземпляре выполнился сценарий

**И** Я продолжил выполнение шагов в хост системе

**И** в форме открытого VanessaBehavoir я установил второму шагу первого сценария флаг "ВыполнятьСценарийСЭтогоШага"

**И** я прервал выполнение шагов в хост системе и я нажал на кнопку "ВыполнитьСценарии"

**И** в тестируемом экземпляре в переменной КонтекстСохраняемый значение служебной переменной равно 1

Выполнение сценария со второго шага когда все шаги реализованны
---------------------------------------------------------------

**Когда** я открыл форму VanessaBehavoir в режиме самотестирования

**И** я загрузил специальную тестовую фичу "ПроверкаВыполнитьСценарийСВыбранногоШага"

**И** я установил специальную служебную экспортную переменную СлужебнаяПеременная у открытого VanessaBehavoir равной 0

**И** в форме открытого VanessaBehavoir я установил флаг объекта "СохранятьКонтекстыПередВыполнениемШагов"

**И** я прервал выполнение шагов в хост системе и я нажал на кнопку "ВыполнитьСценарии"

**Тогда** в тестируемом экземпляре выполнился сценарий

**И** Я продолжил выполнение шагов в хост системе

**И** в форме открытого VanessaBehavoir я установил второму шагу первого сценария флаг "ВыполнятьСценарийСЭтогоШага"

**И** я прервал выполнение шагов в хост системе и я нажал на кнопку "ВыполнитьСценарии"

**Тогда** в тестируемом экземпляре выполнился сценарий

**И** в тестируемом экземпляре в переменной КонтекстСохраняемый значение служебной переменной равно 3

**И** значение служебной экспортной переменной у открытого VanessaBehavoir равно 5

Остановка выполнения шагов FeatureRunner
========================================

Как Разработчик

Я Хочу чтобы у меня была возможность поместить файл в процедуре перед началом сценария и использовать ЗапретитьВыполнениеШагов

Остановка и продолжение выполнения сценария при помещении файла
---------------------------------------------------------------

**Когда** Сценарий выполнен без ошибок

Остановка выполнения шагов FeatureRunner
========================================

Как Разработчик

Я Хочу чтобы у меня была возможность остановить выполнения сценария при помещении нового файла, а затем продолжить

Остановка и продолжение выполнения сценария при помещении файла
---------------------------------------------------------------

**Когда** Я останавливаю выполнение шагов при помещении файла

**Тогда** Второй шаг поместит в переменную контекст служебное значение "Тест"

**И** на третьем шаге я могу обратиться к этому служебному значению "Тест"

Остановка выполнения шагов FeatureRunner
========================================

Как Разработчик

Я Хочу чтобы у меня была возможность остановить выполнения сценария для использования таймера

Остановка и продолжение выполнения сценария для использования таймера
---------------------------------------------------------------------

**Когда** Я останавливаю выполнение шагов для использования таймера

**Тогда** Второй шаг поместит в переменную контекст служебное значение "Тест"

**И** на третьем шаге я могу обратиться к этому служебному значению "Тест"

Проверка создания EPF в режиме обычных форм
===========================================

Как Разработчик

Я Хочу чтобы чтобы у меня была возможность на основании фичи генерировать epf файлы

Генерация EPF
-------------

**Когда** я открыл форму VanessaBehavoir в режиме самотестирования

**И** я загрузил специальную тестовую фичу "ФичаДляПроверкиГенерацииEPF"

**И** я перешел на закладку генератор EPF

**И** если ожидаемый файл epf уже существует, то он будет удален

**И** я нажал на кнопку "СоздатьШаблоныОбработок"

**Тогда** я получил сгенерированный epf файл в ожидаемом каталоге

**И** сгенерированный epf прошел проверку на корректность

Проверка перегенерации EPF, когда в epf есть шаг без фичи
=========================================================

Как Разработчик

Я Хочу чтобы чтобы при перегенерации epf уже шаги в функции ПолучитьСписокТестов сохранились, если они есть в этой EPF

Перегенерация EPF c проверкой на уже реализованные шаги в epf, хотя их нет в данной фиче
----------------------------------------------------------------------------------------

**Когда** я открыл форму VanessaBehavoir в режиме самотестирования

**И** я загрузил специальную тестовую фичу "ФичаДляПерегенерацияEPFШагиНеИзФичи"

**И** я перешел на закладку генератор EPF

**И** ожидаемый файл ФичаДляПерегенерацияEPFШагиНеИзФичи уже существует

**И** я нажал на кнопку "СоздатьШаблоныОбработок"

**Тогда** я получил сгенерированный epf файл в ожидаемом каталоге

**И** сгенерированный epf прошел проверку на корректность после перегенерации, что в нём остались шаги не из фичи

Проверка перегенерации EPF в режиме обычных форм
================================================

Как Разработчик

Я Хочу чтобы чтобы у меня была возможность на основании фичи перегенерировать epf файлы

Перегенерация EPF
-----------------

**Когда** я открыл форму VanessaBehavoir в режиме самотестирования

**И** я загрузил специальную тестовую фичу "ФичаДляПроверкиПерегенерацииEPF"

**И** я перешел на закладку генератор EPF

**И** ожидаемый файл epf уже существует

**И** в ожидаемом файле уже есть реализованные шаги

**И** в фиче есть шаги, которых нет в ожидаемом epf файле

**И** я нажал на кнопку "СоздатьШаблоныОбработок"

**Тогда** я получил сгенерированный epf файл в ожидаемом каталоге

**И** сгенерированный epf прошел проверку на корректность после перегенерации

Проверка перегенерации EPF
==========================

Как Разработчик

Я Хочу чтобы чтобы при перегенерации epf уже существующие процедуры и функции сохранялись

Перегенерация EPF c проверкой на уже существовавшие функции и процедуры
-----------------------------------------------------------------------

**Когда** я открыл форму VanessaBehavoir в режиме самотестирования

**И** я загрузил специальную тестовую фичу "ФичаДляПроверкиПерегенерацииEPFПроверка"

**И** я перешел на закладку генератор EPF

**И** ожидаемый проверочный файл epf уже существует

**И** я нажал на кнопку "СоздатьШаблоныОбработок"

**Тогда** я получил сгенерированный epf файл в ожидаемом каталоге

**И** сгенерированный проверочный epf прошел проверку на корректность после перегенерации

Проверка доступности роли
=========================

Как Разработчик

Я Хочу чтобы чтобы у меня была возможность проверить доступнсть роли

Роль доступна
-------------

**Когда** Мне доступна роль "Админ"

Роль не доступна
----------------

**Когда** Мне не доступна роль "НедоступнаяРоль"

Установка системных параметров Vanessa-Behavoir
===============================================

Как Разработчик

Я Хочу чтобы чтобы у меня была возможность устанавливать системные параметры Vanessa-Behavoir

Чтобы потом их использовали в шагах

Установка параметров считывания макета
--------------------------------------

**Когда** Я задаю системные параметры считывания макета НачСтр 1 НачКол 1 КолСтр 100 КолКол 20

Содание fixtures по макету обработки привязанной к фиче
=======================================================

Как Разработчик

Я Хочу чтобы чтобы я мог создавать fixtures по макетам, которые находятся в обработке привязанной к фиче

Чтобы я мог создавать fixtures без программирования

Создание fixtures
-----------------

**Когда** Я удаляю все элементы Справочника "Справочник1"

**И** Я создаю fixtures по макету "Макет"

**Тогда** В базе появился хотя бы один элемент справочника "Справочник1"

Проверка существования элементов
================================

Как Разработчик

Я Хочу чтобы чтобы у меня была возможность проверить существование элементов в базе

Работа со справочниками
-----------------------

**Когда** в метаданных есть Справочник "Справочник1"

**И** я удаляю все элементы Справочника "Справочник1"

**И** в базе нет элементов Справочника "Справочник1"

**И** я создаю сам один элемент справочника "Справочник1"

**Тогда** В базе появился хотя бы один элемент справочника "Справочник1"

Проверка создания fixtures
==========================

Как Разработчик

Я Хочу чтобы чтобы я мог создавать fixtures по макетам регистров сведений

Создание записей РС
-------------------

**Когда** в метаданных есть РегистрСведений "РегистрСведений1"

**И** я удаляю все записи РегистрСведений "РегистрСведений1"

**И** в базе нет записей РегистрСведений "РегистрСведений1"

**И** я создал fixture РегистрСведений по макету "Макет"

**Тогда** В базе появился хотя бы одна запись РегистрСведений "РегистрСведений1"

Проверка создания fixtures
==========================

Как Разработчик

Я Хочу чтобы чтобы я мог создавать fixtures по макетам

Создание fixtures
-----------------

**Когда** в метаданных есть Справочник "Справочник1"

**И** я удаляю все элементы Справочника "Справочник1"

**И** в базе нет элементов Справочника "Справочник1"

**И** я создал fixture справочника по макету "Макет"

**Тогда** В базе появился хотя бы один элемент справочника "Справочник1"

Загрузить фичу в vanessa-behavior
=================================

Как Разработчик

Я Хочу чтобы чтобы у меня была возможность загрузить произвольную тестовую фичу в vanessa-behavior

Загрузка тестовой фичи
----------------------

**Когда** я открыл форму VanessaBehavoir в режиме самотестирования

**Когда** Я загрузил специальную тестовую фичу "ОсновнаяТестоваяФича"

**Тогда** ДеревоТестов заполнилось строками из фичи

Я хочу работать с командным интерфейсом 1С 8.3.x
================================================

Как Разработчик я хочу

Чтобы у меня была библиотека для стандартных команд 1С при работе с UI 1С 8.3.x

чтобы я мог запускать автосгенерированные фичи по действиям пользователя без написания кода

| **Предыстория**                                                                 
 ---------------                                                                  
                                                                                  
 **Дано** Я запускаю сценарий открытия TestClient или подключаю уже существующий  |
|---------------------------------------------------------------------------------|

Работа с гиперссылкой
---------------------

**Когда** Я нажимаю кнопку командного интерфейса "Основная"

**Когда** Я нажимаю кнопку командного интерфейса "Справочник1"

**Тогда** открылось окно "Справочник1"

**И** В открытой форме я нажимаю на кнопку с заголовком "Создать"

**Тогда** открылось окно "Справочник1 (создание)"

**И** В открытой форме в поле с именем "Наименование" я ввожу текст "111"

**И** В открытой форме я перехожу к закладке с заголовком "Вспомогательная"

**Тогда** элемент формы с именем "Наименование" стал равен "111"

**И** В открытой форме я нажимаю на гиперссылку с заголовком "Гиперссылка"

**Тогда** открылось окно "1С:Предприятие"

**И** В открытой форме я нажимаю на кнопку с заголовком "OK"

**Тогда** открылось окно "Справочник1 (создание) \*"

**И** В открытой форме я нажимаю на кнопку с заголовком "Записать и закрыть"

Работа с группой элементов формы
--------------------------------

**Когда** Я нажимаю кнопку командного интерфейса "Основная"

**Когда** Я нажимаю кнопку командного интерфейса "Справочник1"

**Тогда** открылось окно "Справочник1"

**И** В открытой форме я нажимаю на кнопку с заголовком "Создать"

**Тогда** открылось окно "Справочник1 (создание)"

**И** В открытой форме в поле с именем "Наименование" я ввожу текст "111"

**И** В открытой форме я перехожу к закладке с заголовком "Вспомогательная"

**И** В открытой форме я сворачиваю группу с заголовком "СворачиваемаяГруппа"

**И** В открытой форме я разворачиваю группу с заголовком "СворачиваемаяГруппа"

**И** В открытой форме я нажимаю на кнопку с заголовком "Записать и закрыть"

Работа с иерархией групп справочников
-------------------------------------

**Когда** Я нажимаю кнопку командного интерфейса "Основная"

**Когда** Я нажимаю кнопку командного интерфейса "Справочник1"

**Тогда** открылось окно "Справочник1"

**И** В открытой форме я нажимаю на кнопку с заголовком "Создать"

**Тогда** открылось окно "Справочник1 (создание)"

**И** В открытой форме в поле с именем "Наименование" я ввожу текст "Тест"

**И** В открытой форме я открываю выпадающий список с заголовком "Реквизит2"

**И** В открытой форме я выбираю значение реквизита с заголовком "Реквизит2" из формы списка

**Тогда** открылось окно "Справочник2"

**И** В форме "Справочник2" в таблице "Список" я перехожу к строке:

| 'Код'       | 'Наименование' |
|-------------|----------------|
| '000000004' | 'Группа2'      |

**И** В форме "Справочник2" в ТЧ "Список" я выбираю текущую строку

**И** В форме "Справочник2" в таблице "Список" я перехожу к строке:

| Код       | Наименование |
|-----------|--------------|
| 000000008 | Группа2Элем2 |

**И** В форме "Справочник2" в ТЧ "Список" я выбираю текущую строку

**Тогда** открылось окно "Справочник1 (создание) \*"

**И** В открытой форме я перехожу к закладке с заголовком "Вспомогательная"

**И** В открытой форме я нажимаю на кнопку с заголовком "Записать и закрыть"

**И** Есть элемент справочника "Справочник1" с наименованием "Тест" и реквизитом "Реквизит2" равным "Группа2Элем2"

Основной сценарий работы с элементами формы
-------------------------------------------

**Когда** Я нажимаю кнопку командного интерфейса "Основная"

**И** Я нажимаю кнопку командного интерфейса "Справочник1"

**Тогда** открылось окно "Справочник1"

**И** В форме "Справочник1" в таблице "Список" я перехожу к строке:

| Код       | Наименование       |
|-----------|--------------------|
| 000000002 | Тестовый Элемент 2 |

**И** В форме "Справочник1" в ТЧ "Список" я выбираю текущую строку

**И** открылось окно "Тестовый Элемент \* (Справочник1)"

**И** В открытой форме я открываю выпадающий список с заголовком "Реквизит1"

**И** В открытой форме из выпадающего списка я выбираю "ЗначениеПеречисления1"

**И** В открытой форме я выбираю значение реквизита с заголовком "Реквизит2" из формы списка

**Тогда** открылось окно "Справочник2"

**И** В форме "Справочник2" в таблице "Список" я перехожу к строке:

| Код       | Наименование      |
|-----------|-------------------|
| 000000005 | ТестовыйЭлемент21 |

**И** В форме "Справочник2" в ТЧ "Список" я выбираю текущую строку

**Тогда** открылось окно "Тестовый Элемент \* (Справочник1) \*"

**И** В открытой форме в поле с именем "РеквизитЧисло" я ввожу текст "12.34"

**И** В открытой форме в поле с именем "РеквизитСтрока" я ввожу текст "тест"

**И** В открытой форме в поле с именем "РеквизитДата" я ввожу текст "08.04.1981"

**И** В открытой форме я изменяю флаг с заголовком "Реквизит булево"

**И** В открытой форме я меняю значение переключателя с заголовком "Реквизит переключатель" на "Первое значение"

**И** В открытой форме в ТЧ "ТабличнаяЧасть1" я нажимаю на кнопку с заголовком "Добавить"

**И** В открытой форме в ТЧ "ТабличнаяЧасть1" в поле с заголовком "Реквизит число" я ввожу текст "56,78"

**И** В открытой форме в ТЧ "ТабличнаяЧасть1" в поле с заголовком "Реквизит строка" я ввожу текст "ТестСтрока"

**И** В открытой форме в ТЧ "ТабличнаяЧасть1" в поле с заголовком "Реквизит дата" я ввожу текст "11.09.1983"

**И** В открытой форме в ТЧ "ТабличнаяЧасть1" из выпадающего списка с заголовком "Реквизит справочник" я выбираю "ТестовыйЭлемент21"

**И** В открытой форме в ТЧ "ТабличнаяЧасть1" я изменяю флаг с заголовком "Реквизит булево"

**И** В открытой форме в ТЧ "ТабличнаяЧасть1" я выбираю значение реквизита с заголовком "Реквизит справочник выбор из формы списка" из формы списка

**Тогда** открылось окно "Справочник2"

**И** В форме "Справочник2" в таблице "Список" я перехожу к строке:

| Код       | Наименование      |
|-----------|-------------------|
| 000000005 | ТестовыйЭлемент21 |

**И** В форме "Справочник2" в ТЧ "Список" я выбираю текущую строку

**И** В открытой форме я нажимаю на кнопку с заголовком "Записать и закрыть"

**И** Элемент Справочника1 с именем "Тестовый Элемент 2" записался корректно

Закрыть сеанс 1С с ключом TESTCLIENT
------------------------------------

**Дано** я закрываю сеанс TESTCLIENT

Я хочу работать с командным интерфейсом 1С 8.3.x
================================================

Как Разработчик я хочу

Чтобы у меня был стандартный сценарий для открытия TestClient

чтобы я мог использовать его как вложенный сценарий

Я запускаю сценарий открытия TestClient или подключаю уже существующий
----------------------------------------------------------------------

**Дано** Я открыл новый сеанс TestClient или подключил уже существующий

**И** Я закрыл все окна клиентского приложения

Добавление посветки активных элементов
======================================

Как пользователь vanessa-behavior

я хочу в автоматизированно создаваемой документации

подсветку активного элемента, который нажимается в данном шаге

| **Предыстория**                                       
 ---------------                                        
                                                        
 Дано: установлена программа для работы со скриншотами  |
|-------------------------------------------------------|

Добавление красной подсветки
----------------------------

**Когда** я запускаю TestClient в режиме формирования HTML документации

**И** когда проходит шаг \`\`\`Я нажимаю кнопку раздела "Тестовый раздел"\`\`\`

**Тогда** возникает img файл соответвующий шагу

**И** раздел \`\`\`Тестовый раздел\`\`\` выделен красным прямоугольником

Частичная загрузка фич по тегам
===============================

Как Разработчик

Я Хочу чтобы была возможность указать список тегов фич для загрузки и список тегов фич для пропуска

Не загрузка фичи из-за фильтра по тегам, когда я загружаю фичи из каталога
--------------------------------------------------------------------------

**Когда** я открыл форму VanessaBehavoir в режиме самотестирования

**И** Я добавил тег "IgnoreOnCIMainBuild" в список тегов исключений

**И** Я загрузил фичи из служебного каталога "Support\\Templates"

**И** в дереве фич нет фичи загруженной из файла "ОсновнаяТестоваяФича"

Загрузка фичи несмотря на фильтр по тегам исключениям, т.к. она указана явно
----------------------------------------------------------------------------

**Когда** я открыл форму VanessaBehavoir в режиме самотестирования

**И** Я добавил тег "IgnoreOnCIMainBuild" в список тегов исключений

**Когда** Я загрузил специальную тестовую фичу "ОсновнаяТестоваяФича"

**Тогда** ДеревоТестов заполнилось строками из фичи

Загрузка фичи по фильтру по тегам, когда я загружаю фичи из каталога
--------------------------------------------------------------------

**Когда** я открыл форму VanessaBehavoir в режиме самотестирования

**И** Я добавил тег "SpecialTag" в список тегов фильтров

**И** Я загрузил фичи из служебного каталога "Support\\Templates"

**И** в дереве фич есть фича загруженная из файла "ОсновнаяТестоваяФича"

**И** в дереве фич нет фичи загруженной из файла "ФичаДляПроверкиГенерацииEPF"

Загрузка фичи несмотря на фильтр по тегам фильтрам, т.к. она указана явно
-------------------------------------------------------------------------

**Когда** я открыл форму VanessaBehavoir в режиме самотестирования

**И** Я добавил тег "SpecialTag" в список тегов фильтров

**Когда** Я загрузил специальную тестовую фичу "ФичаДляПроверкиГенерацииEPF"

**Тогда** ДеревоТестов заполнилось строками из фичи

Проверка работы фичи, если все её шаги реализованы в других фичах
=================================================================

Как Разработчик

Я Хочу чтобы я мог использовать процедуру ПередНачаломСценария, даже если у EPF нет собственных шагов

Проверка, что была вызвана процедура ПередНачаломСценария
---------------------------------------------------------

**Тогда** в переменной Контекст есть значение минус 1

Проверка работы с отрицательными числами
========================================

Как Разработчик

Я Хочу чтобы я мог без ошибок обрабатывать отрицательные числа

Передача отрицательного числа в сценарий
----------------------------------------

**Когда** я передал в шаг числовой параметр -1

**И** я передал в шаг числовой параметр -2 в середине строки

**И** я передал в шаг числовой параметр -3.45 в середине строки

**Тогда** в переменной Контекст есть значение минус 1

**Тогда** в переменной Контекст есть значение минус 2

**Тогда** в переменной Контекст есть значение минус 3.45

Проверка открытия и закрытия формы vanessa-behavoir
===================================================

Как Разработчик

Я Хочу чтобы форма обработки vanessa-behavior.epf открывалась и закрывалась

Откртытие и закрытие формы
--------------------------

**Когда** я работаю с vanessa-behavior.epf

**Тогда** я могу открыть форму обработки

**И** я могу закрыть форму обработки

Проверка кнопки открытия элемента формы
=======================================

Как разработчик

Я хочу чтобы у меня была возможность открывать элемент формы кнопкой с двумя квадратиками

Чтобы у меня актоматически генерировались шаги Gherkin без программирования

| **Предыстория**                                                                 
 ---------------                                                                  
                                                                                  
 **Дано** Я запускаю сценарий открытия TestClient или подключаю уже существующий  |
|---------------------------------------------------------------------------------|

Проверка открытия элемента формы
--------------------------------

**Когда** В панели разделов я выбираю "Основная"

**И** В панели функций я выбираю "Справочник1"

**И** открылось окно "Справочник1"

**И** В открытой форме я нажимаю на кнопку с заголовком "Создать"

**Тогда** открылось окно "Справочник1 (создание)"

**И** В открытой форме в поле с именем "Наименование" я ввожу текст "Тест"

**И** В открытой форме я нажимаю кнопку выбора у поля с заголовком "Реквизит2"

**Тогда** открылось окно "Справочник2"

**И** В форме "Справочник2" в таблице "Список" я перехожу к строке:

| 'Код'       | 'Наименование'      |
|-------------|---------------------|
| '000000005' | 'ТестовыйЭлемент21' |

**И** В форме "Справочник2" в ТЧ "Список" я выбираю текущую строку

**И** В открытой форме я нажимаю кнопку выбора у поля с именем "Реквизит4"

**Тогда** открылось окно "Справочник2"

**И** В форме "Справочник2" в таблице "Список" я перехожу к строке:

| 'Код'       | 'Наименование'      |
|-------------|---------------------|
| '000000005' | 'ТестовыйЭлемент21' |

**И** В форме "Справочник2" в ТЧ "Список" я выбираю текущую строку

**Тогда** открылось окно "Справочник1 (создание) \*"

**И** В открытой форме я нажимаю на кнопку с заголовком "Записать и закрыть"

Проверка загрузки фич из каталога
=================================

Как Разработчик

Я Хочу чтобы я мог без ошибок загрузить фичи из каталога

Загрузка всех фич из каталога
-----------------------------

**Когда** я открыл форму VanessaBehavoir в режиме самотестирования

**И** я создал служебный файл в относитекльном каталоге "features\\Core" с именем "TestFile"

**И** я загрузил фичи из относительного каталога "features\\Core"

**Тогда** ДеревоТестов заполнилось строками из фичи

Проверка возможности отладки кода обработок в управляемых формах
================================================================

Как Разработчик

Я Хочу чтобы я мог отлаживать обработки тестов без каких-либо проблем

Передача списка снипетов открытой формы и последующий их вызов при выполнении шагов.
------------------------------------------------------------------------------------

**Когда** я вручную открыл форму VanessaBehavoir

**И** я вручную открыл необходимую обработку для отладки

**Тогда** обработка при открытии проверила все открытые окна в текущем сеансе

**И** при нахождении в заголовке "VanessaBehavoir" поптыталась бы вызвать экспортную функцию 'ДобавитьВнешнийСписокПроцедур'

**И** из этой процедуры при прохождении шагов был приоритет

Получение списка сниппетов из открытых форм
-------------------------------------------

**Когда** я вручную открыл форму для тестирования

**И** я вручную открыл форму VanessaBehavoir

**Тогда** VanessaBehavoir автоматически просканировала все открытые формы

**И** проверила наличие экспортной функции 'ПолучитьСписокТестов'

**И** для зарегистрированных тестов поставила приоритет при выполнении шагов

Подключение сценария как шага
=============================

Как Разработчик

Я Хочу чтобы я мог в качестве шага указывать уже существуюющий сценарий из соседней фичи

Я вызываю шаг из соседней фичи
------------------------------

**Когда** я вызвал обычный шаг сценария

**И** я сохранил в контекст значение "БылВызванСценарийИзСоседнейФичи"

**И** я вызвал обычный шаг сценария

Подключение сценария как шага
=============================

Как Разработчик

Я Хочу чтобы я мог в качестве шага указывать уже существуюющий сценарий из соседней фичи

Использование вместо шага сценария из соседней фичи
---------------------------------------------------

**Когда** Я вызвал обычный шаг сценария

**И** Я вызываю шаг из соседней фичи

**И** Я вызвал обычный шаг сценария

**Тогда** В Контексте есть значение "БылВызванСценарийИзСоседнейФичи"

Передача параметров разных типов в процедуры
============================================

Как Разработчик

Я Хочу чтобы была возможность передавать корреткно передавать строки

Передача параметров в обычных сценариях типа Строка часть 1
-----------------------------------------------------------

**Когда** я выпоняю шаг с параметером когда кавычки "кавычки" идут раньше апострофов 'апострофы'

**Тогда** в переменной контекст будет значение "Знач1" "кавычки"

**Тогда** в переменной контекст будет значение "Знач2" "апострофы"

Передача параметров в обычных сценариях типа Строка часть 2
-----------------------------------------------------------

**Когда** я выпоняю шаг с параметером когда апострофы 'апострофы' идут раньше кавычек "кавычки"

**Тогда** в переменной контекст будет значение "Знач1" "апострофы"

**Тогда** в переменной контекст будет значение "Знач2" "кавычки"

Передача параметров разных типов в процедуры
============================================

Как Разработчик

Я Хочу чтобы была возможность передавать параметры разных типов в сгенерированнфе процедуры

Передача параметров в обычных сценариях типа Число
--------------------------------------------------

**Когда** я выполняю шаг с параметром 1

**Тогда** я получаю в процедуру параметр типа "Число"

Передача параметров в обычных сценариях типа Строка в кавычках
--------------------------------------------------------------

**Когда** я выполняю шаг с параметром "Просто строка"

**Тогда** я получаю в процедуру параметр типа "Строка"

Передача параметров в обычных сценариях типа Строка в апострофах
----------------------------------------------------------------

**Когда** я выполняю шаг с параметром 'Просто строка'

**Тогда** я получаю в процедуру параметр типа 'Строка'

Передача параметров в обычных сценариях типа Строка в апострофах с кавычками
----------------------------------------------------------------------------

**Когда** я выполняю шаг с параметром 'Просто "кавычки" строка'

**Тогда** я получаю в процедуру параметр типа 'Строка'

Передача параметров в обычных сценариях типа Дата
-------------------------------------------------

**Когда** я выполняю шаг с параметром 08.04.1981

**Тогда** я получаю в процедуру параметр типа "Дата"

Передача параметров в обычных сценариях типа Дата
-------------------------------------------------

**Когда** я выполняю шаг с параметром 08.04.81

**Тогда** я получаю в процедуру параметр типа "Дата"

Передача параметров в обычных сценариях числа ноль
--------------------------------------------------

**Когда** я выполняю шаг с параметром 0

**Тогда** я получаю в процедуру параметр типа "Число"

Передача параметров в структуре сценария
----------------------------------------

**Когда** я выполняю шаг с параметром \<ЗначениеПараметра\>

**Тогда** я получаю в процедуру параметр типа \<ТипПараметра\>

### Examples: 

| ЗначениеПараметра          | ТипПараметра |
|----------------------------|--------------|
| 10                         | Число        |
| Просто какая-то строка     | Строка       |
| "Просто какая-то строка"   | Строка       |
| 'Просто какая-то строка'   | Строка       |
| 'Просто "какая-то" строка' | Строка       |
| 08.04.1981                 | Дата         |
| 08.04.81                   | Дата         |
| -101                       | Число        |
| 0                          | Число        |

Передача в шаг параметров в виде таблицы
========================================

Как Разработчик

Я Хочу чтобы была возможность передавать в шаги параметры в виде таблицы

Передача параметров в шаг в виде таблицы
----------------------------------------

**Когда** я выполняю шаг с обычным параметром "ОбычныйПараметр" и в параметры которого передана таблица:

| ЗначениеПараметра      | ТипПараметра     |
|------------------------|------------------|
| 10                     | ЧислоВТаблице    |
| Просто какая-то строка | СтрокаВТаблице   |
| 08.04.1981             | ДатаВТаблице     |
| -11                    | ОтрЧислоВТаблице |

**Тогда** в переменной контекст будeт значение из таблицы 10 Тип "ЧислоВТаблице"

**И** в переменной контекст будeт значение из таблицы "Просто какая-то строка" Тип "СтрокаВТаблице"

**И** в переменной контекст будeт значение из таблицы 08.04.1981 Тип "ДатаВТаблице"

**И** в переменной контекст будeт Обычное значение переданного параметра "ОбычныйПараметр" Тип "ОбычныйПараметрИзПроцедуры"

**И** в переменной контекст будeт число минус одиннадцать

Передача строк в кавычках
-------------------------

**Когда** я выполняю шаг с в котором передаётся таблица со строкой в кавычках то не возникает ошибок:

| ЗначениеПараметра | ТипПараметра                   |
|-------------------|--------------------------------|
| "10"              | ЧислоСтрокаВТаблице            |
| "abc"             | СтрокаКавычкиВТаблице          |
| 'abcd'            | СтрокаАпострофыВТаблице        |
| 'ab "кавычки" cd' | СтрокаАпострофыКавычкиВТаблице |

**Тогда** в переменной контекст будeт значение из таблицы "10" Тип "ЧислоСтрокаВТаблице"

**И** в переменной контекст будeт значение из таблицы "abc" Тип "СтрокаКавычкиВТаблице"

**И** в переменной контекст будeт значение из таблицы "abcd" Тип "СтрокаАпострофыВТаблице"

**И** в переменной контекст будeт значение из таблицы 'ab "кавычки" cd' Тип "СтрокаАпострофыКавычкиВТаблице"

Необходимость произвольного выполнения тестов по шагам
======================================================

Как Разработчик

Я Хочу чтобы я мог отлаживать выполнение шагов при запуске тестов

| **Предыстория**                                       
 ---------------                                        
                                                        
 **Когда** я нахожусь в открытой форме VanessaBehavoir  
                                                        
 **И** с загруженными фича файлами                      
                                                        
 **И** для сценари с 2мя и более шагов                  |
|-------------------------------------------------------|

Выполнение текущего сценария до определенного шага
--------------------------------------------------

**Когда** я нажимаю пункт меню запуск тестов до этого шага

**Тогда** тесты последовательно выполняютса и осанавливаются перед выполнением данного шага

Продолжение выполнения шагов по текущий сценарий
------------------------------------------------

**Когда** я нажимаю пункт меню запуск тестов до этого шага

**Тогда** тесты последовательно выполняются и останавливаются перед выполнением данного шага

**И** я спускаюсь еще ниже и

Нажатие команды интерфейса в открытом окне
==========================================

Как Разработчик я хочу

Чтобы у меня был функционал для нажатия команды интерфейса в открытом окне при работе с TestClient

Для того чтобы использовать эти команды

| **Предыстория**                                                                 
 ---------------                                                                  
                                                                                  
 **Дано** Я запускаю сценарий открытия TestClient или подключаю уже существующий  |
|---------------------------------------------------------------------------------|

Я нажмаю команду интерфейса в открытом окне
-------------------------------------------

**Когда** В панели разделов я выбираю "Основная"

**И** В панели функций я выбираю "Справочник1"

**Тогда** открылось окно "Справочник1"

**И** В открытой форме я нажимаю на кнопку с заголовком "Создать"

**Тогда** открылось окно "Справочник1 (создание)"

**И** В открытой форме в поле с именем "Наименование" я ввожу текст "Тест"

**И** В текущем окне я нажимаю кнопку командного интерфейса "Общая команда для справочника1"

**И** В текущем окне я нажимаю кнопку командного интерфейса "Главное"

**И** В открытой форме я нажимаю на кнопку с заголовком "Записать и закрыть"

Закрытие открытого окна
=======================

Как Разработчик я хочу

Чтобы у меня был функционал для закрытия окон 1С при работе с TestClient

Для того чтобы я мог закрывать окна

| **Предыстория**                                                                 
 ---------------                                                                  
                                                                                  
 **Дано** Я запускаю сценарий открытия TestClient или подключаю уже существующий  |
|---------------------------------------------------------------------------------|

Я открываю и закрываю окно справочника
--------------------------------------

**Когда** В панели разделов я выбираю "Основная"

**И** В панели функций я выбираю "Справочник1"

**Тогда** открылось окно "Справочник1"

**И** Я закрываю окно с заголовком "Справочник1"

Автоматизированное получение шагов сценариев на основе действий пользователя
============================================================================

Как Разработчик я хочу

Чтобы у меня был функционал для получения шагов Gherkin который получен на основе интерактивных действий пользователя

Для того чтобы я мог использовать их в своих сценариях без программирования

| **Предыстория**                                                                 
 ---------------                                                                  
                                                                                  
 **Дано** Я запускаю сценарий открытия TestClient или подключаю уже существующий  |
|---------------------------------------------------------------------------------|

Я проверяю кнопки с одинаковым заголовком
-----------------------------------------

**Когда** я нажмаю на кнопку Vanessa-Behavior "Начать запись поведения"

**И** В панели разделов я выбираю "Основная"

**И** В панели функций я выбираю "Справочник1"

**Тогда** открылось окно "Справочник1"

**И** В открытой форме я нажимаю на кнопку с заголовком "Создать"

**Тогда** открылось окно "Справочник1 (создание)"

**И** В открытой форме в поле с именем "Наименование" я ввожу текст "Тест"

**И** В открытой форме я перехожу к закладке с заголовком "Проверка кнопок"

**И** В открытой форме я нажимаю на кнопку с именем "ЗаполнитьРекСтрока1"

**И** В открытой форме я нажимаю на кнопку с именем "ЗаполнитьРекСтрока2"

**И** элемент формы с именем "РекСтрока1" стал равен "Значение1"

**И** элемент формы с именем "РекСтрока2" стал равен "Значение2"

**И** В открытой форме я нажимаю на кнопку с заголовком "Записать и закрыть"

**И** я нажмаю на кнопку Vanessa-Behavior "Закончить запись поведения"

Я получаю дейстия пользователя в виде сценария Gherkin
------------------------------------------------------

**Когда** я удаляю все элементы Справочника "Справочник1"

**Когда** я создаю fixtures по макету "Макет"

**Когда** я нажмаю на кнопку Vanessa-Behavior "Начать запись поведения"

**Когда** Я нажимаю кнопку командного интерфейса "Основная"

**И** Я нажимаю кнопку командного интерфейса "Справочник1"

**Тогда** открылось окно "Справочник1"

**И** В форме "Справочник1" в таблице "Список" я перехожу к строке:

| Код       | Наименование       |
|-----------|--------------------|
| 000000002 | Тестовый Элемент 2 |

**И** В форме "Справочник1" в ТЧ "Список" я выбираю текущую строку

**И** открылось окно "Тестовый Элемент \* (Справочник1)"

**И** В открытой форме я открываю выпадающий список с заголовком "Реквизит1"

**И** В открытой форме из выпадающего списка я выбираю "ЗначениеПеречисления1"

**И** В открытой форме я выбираю значение реквизита с заголовком "Реквизит2" из формы списка

**Тогда** открылось окно "Справочник2"

**И** В форме "Справочник2" в таблице "Список" я перехожу к строке:

| Код       | Наименование      |
|-----------|-------------------|
| 000000005 | ТестовыйЭлемент21 |

**И** В форме "Справочник2" в ТЧ "Список" я выбираю текущую строку

**Тогда** открылось окно "Тестовый Элемент \* (Справочник1) \*"

**И** В открытой форме в поле с именем "РеквизитЧисло" я ввожу текст "12.34"

**И** В открытой форме в поле с именем "РеквизитСтрока" я ввожу текст "тест"

**И** В открытой форме в поле с именем "РеквизитДата" я ввожу текст "08.04.1981"

**И** В открытой форме я изменяю флаг с заголовком "Реквизит булево"

**И** В открытой форме в поле с именем "Наименование" я ввожу текст "Тест"

**И** В открытой форме я меняю значение переключателя с заголовком "Реквизит переключатель" на "Первое значение"

**И** В открытой форме в ТЧ "ТабличнаяЧасть1" я нажимаю на кнопку с заголовком "Добавить"

**И** В открытой форме в ТЧ "ТабличнаяЧасть1" в поле с заголовком "Реквизит число" я ввожу текст "56,78"

**И** В открытой форме в ТЧ "ТабличнаяЧасть1" в поле с заголовком "Реквизит строка" я ввожу текст "ТестСтрока"

**И** В открытой форме в ТЧ "ТабличнаяЧасть1" в поле с заголовком "Реквизит дата" я ввожу текст "11.09.1983"

**И** В открытой форме в ТЧ "ТабличнаяЧасть1" из выпадающего списка с заголовком "Реквизит справочник" я выбираю "ТестовыйЭлемент21"

**И** В открытой форме в ТЧ "ТабличнаяЧасть1" я изменяю флаг с заголовком "Реквизит булево"

**И** В открытой форме в ТЧ "ТабличнаяЧасть1" я выбираю значение реквизита с заголовком "Реквизит справочник выбор из формы списка" из формы списка

**Тогда** открылось окно "Справочник2"

**И** В форме "Справочник2" в таблице "Список" я перехожу к строке:

| Код       | Наименование      |
|-----------|-------------------|
| 000000005 | ТестовыйЭлемент21 |

**И** В форме "Справочник2" в ТЧ "Список" я выбираю текущую строку

**И** В открытой форме я нажимаю на кнопку с заголовком "Записать и закрыть"

**И** я нажмаю на кнопку Vanessa-Behavior "Закончить запись поведения"

**Тогда** В реквизите Vanessa-Behavior "СгенерированныйСценарий" будет содержаться строка 'В панели разделов я выбираю "Основная"'

**Тогда** В реквизите Vanessa-Behavior "СгенерированныйСценарий" будет содержаться строка 'открылось окно "Справочник1"'

**Тогда** В реквизите Vanessa-Behavior "СгенерированныйСценарий" будет содержаться строка 'В форме "Справочник1" в ТЧ "Список" я выбираю текущую строку'

**Тогда** В реквизите Vanessa-Behavior "СгенерированныйСценарий" будет содержаться строка 'открылось окно "Тестовый Элемент \* (Справочник1)"'

**Тогда** В реквизите Vanessa-Behavior "СгенерированныйСценарий" будет содержаться строка 'В открытой форме я открываю выпадающий список с заголовком "Реквизит1"'

**Тогда** В реквизите Vanessa-Behavior "СгенерированныйСценарий" будет содержаться строка 'В открытой форме из выпадающего списка я выбираю "ЗначениеПеречисления1"'

**Тогда** В реквизите Vanessa-Behavior "СгенерированныйСценарий" будет содержаться строка 'В открытой форме я выбираю значение реквизита с заголовком "Реквизит2" из формы списка'

**Тогда** В реквизите Vanessa-Behavior "СгенерированныйСценарий" будет содержаться строка 'открылось окно "Справочник2"'

**Тогда** В реквизите Vanessa-Behavior "СгенерированныйСценарий" будет содержаться строка 'В форме "Справочник2" в ТЧ "Список" я выбираю текущую строку'

**Тогда** В реквизите Vanessa-Behavior "СгенерированныйСценарий" будет содержаться строка 'открылось окно "Тестовый Элемент \* (Справочник1) \*"'

**Тогда** В реквизите Vanessa-Behavior "СгенерированныйСценарий" будет содержаться строка 'В открытой форме я изменяю флаг с заголовком "Реквизит булево"'

**Тогда** В реквизите Vanessa-Behavior "СгенерированныйСценарий" будет содержаться строка 'В открытой форме в ТЧ "ТабличнаяЧасть1" я нажимаю на кнопку с заголовком "Добавить"'

**Тогда** В реквизите Vanessa-Behavior "СгенерированныйСценарий" будет содержаться строка 'В открытой форме из выпадающего списка я выбираю "ТестовыйЭлемент21"'

**Тогда** В реквизите Vanessa-Behavior "СгенерированныйСценарий" будет содержаться строка 'В открытой форме в ТЧ "ТабличнаяЧасть1" я изменяю флаг с заголовком "Реквизит булево"'

**Тогда** В реквизите Vanessa-Behavior "СгенерированныйСценарий" будет содержаться строка 'В открытой форме в ТЧ "ТабличнаяЧасть1" я выбираю значение реквизита с заголовком "Реквизит справочник выбор из формы списка" из формы списка'

**Тогда** В реквизите Vanessa-Behavior "СгенерированныйСценарий" будет содержаться строка 'открылось окно "Справочник2"'

**Тогда** В реквизите Vanessa-Behavior "СгенерированныйСценарий" будет содержаться строка 'В форме "Справочник2" в ТЧ "Список" я выбираю текущую строку'

**Тогда** В реквизите Vanessa-Behavior "СгенерированныйСценарий" будет содержаться строка 'открылось окно "Тестовый Элемент \* (Справочник1) \*"'

**Тогда** В реквизите Vanessa-Behavior "СгенерированныйСценарий" будет содержаться строка 'В открытой форме из выпадающего списка я выбираю "ТестовыйЭлемент21"'

**Тогда** В реквизите Vanessa-Behavior "СгенерированныйСценарий" будет содержаться строка 'В форме "Тестовый Элемент \* (Справочник1) \*" в ТЧ "ТабличнаяЧасть1" я завершаю редактирование строки'

**Тогда** В реквизите Vanessa-Behavior "СгенерированныйСценарий" будет содержаться строка 'В открытой форме я нажимаю на кнопку с заголовком "Записать и закрыть"'

Автоматизированное получение изменения состояния формы
======================================================

Как Разработчик я хочу

Чтобы у меня был функционал для получения шагов Gherkin при изменении формы

Для того чтобы я мог использовать их в своих сценариях без программирования

| **Предыстория**                                                                 
 ---------------                                                                  
                                                                                  
 **Дано** Я запускаю сценарий открытия TestClient или подключаю уже существующий  |
|---------------------------------------------------------------------------------|

Я получаю изменения формы в виде сценария Gherkin
-------------------------------------------------

**Когда** я удаляю все элементы Справочника "Справочник1"

**Когда** я создаю fixtures по макету "Макет"

**Когда** Я нажимаю кнопку командного интерфейса "Основная"

**И** Я нажимаю кнопку командного интерфейса "Справочник1"

**Тогда** открылось окно "Справочник1"

**И** В форме "Справочник1" в таблице "Список" я перехожу к строке:

| Код       | Наименование       |
|-----------|--------------------|
| 000000002 | Тестовый Элемент 2 |

**И** В форме "Справочник1" в ТЧ "Список" я выбираю текущую строку

**И** открылось окно "Тестовый Элемент \* (Справочник1)"

**И** В открытой форме я открываю выпадающий список с заголовком "Реквизит1"

**И** В открытой форме из выпадающего списка я выбираю "ЗначениеПеречисления1"

**И** В открытой форме я выбираю значение реквизита с заголовком "Реквизит2" из формы списка

**Тогда** открылось окно "Справочник2"

**И** В форме "Справочник2" в таблице "Список" я перехожу к строке:

| Код       | Наименование      |
|-----------|-------------------|
| 000000005 | ТестовыйЭлемент21 |

**И** В форме "Справочник2" в ТЧ "Список" я выбираю текущую строку

**Тогда** открылось окно "Тестовый Элемент \* (Справочник1) \*"

**И** В открытой форме в поле с именем "РеквизитЧисло" я ввожу текст "12.34"

**И** В открытой форме в поле с именем "РеквизитСтрока" я ввожу текст "тест"

**И** В открытой форме в поле с именем "РеквизитДата" я ввожу текст "08.04.1981"

**И** В открытой форме я изменяю флаг с заголовком "Реквизит булево"

**И** В открытой форме я меняю значение переключателя с заголовком "Реквизит переключатель" на "Первое значение"

**И** В открытой форме в ТЧ "ТабличнаяЧасть1" я нажимаю на кнопку с заголовком "Добавить"

**И** В открытой форме в ТЧ "ТабличнаяЧасть1" в поле с заголовком "Реквизит число" я ввожу текст "56,78"

**И** В открытой форме в ТЧ "ТабличнаяЧасть1" в поле с заголовком "Реквизит строка" я ввожу текст "ТестСтрока"

**И** В открытой форме в ТЧ "ТабличнаяЧасть1" в поле с заголовком "Реквизит дата" я ввожу текст "11.09.1983"

**И** В открытой форме в ТЧ "ТабличнаяЧасть1" из выпадающего списка с заголовком "Реквизит справочник" я выбираю "ТестовыйЭлемент21"

**И** В открытой форме в ТЧ "ТабличнаяЧасть1" я изменяю флаг с заголовком "Реквизит булево"

**И** В открытой форме в ТЧ "ТабличнаяЧасть1" я выбираю значение реквизита с заголовком "Реквизит справочник выбор из формы списка" из формы списка

**Тогда** открылось окно "Справочник2"

**И** В форме "Справочник2" в таблице "Список" я перехожу к строке:

| Код       | Наименование      |
|-----------|-------------------|
| 000000005 | ТестовыйЭлемент21 |

**И** В форме "Справочник2" в ТЧ "Список" я выбираю текущую строку

**И** В открытой форме я нажимаю на кнопку с заголовком "Записать"

**Тогда** элемент формы с именем "Код" стал равен "000000002"

**И** элемент формы с именем "Наименование" стал равен "Тестовый Элемент 2"

**И** элемент формы с именем "Реквизит1" стал равен "ЗначениеПеречисления1"

**И** элемент формы с именем "Реквизит2" стал равен "ТестовыйЭлемент21"

**И** элемент формы с именем "РеквизитЧисло" стал равен "12,34"

**И** элемент формы с именем "РеквизитСтрока" стал равен "тест"

**И** элемент формы с именем "РеквизитДата" стал равен "08.04.1981 0:00:00"

**И** элемент формы с именем "РеквизитБулево" стал равен "Да"

**И** элемент формы с именем "РеквизитПереключатель" стал равен "1"

**И** таблица формы с именем "ТабличнаяЧасть1" стала равной:

| 'N' | 'Реквизит число' | 'Реквизит число' | 'Реквизит строка' | 'Реквизит дата' | 'Реквизит справочник выбор из формы списка' | 'Реквизит справочник' | 'Реквизит булево' |
|-----|------------------|------------------|-------------------|-----------------|---------------------------------------------|-----------------------|-------------------|
| '1' | '56,78'          | '56,78'          | 'ТестСтрока'      | '11.09.1983'    | 'ТестовыйЭлемент21'                         | 'ТестовыйЭлемент21'   | 'Да'              |

**Тогда** таблица формы с именем "ТабличнаяЧасть1" содержит изменения:

| 'Реквизит число' |
|------------------|
| '56,78'          |

**И** элемент формы с именем "Код1" стал равен "000000002"

**И** элемент формы с именем "Наименование2" стал равен "Тестовый Элемент 2"

**И** элемент формы с именем "Наименование1" стал равен "Тестовый Элемент 2"

**И** элемент формы с именем "Реквизит3" стал равен "ЗначениеПеречисления1"

**И** Я нажмаю на кнопку Vanessa-Behavior "Забыть состояние формы TestClient"

**И** Я нажмаю на кнопку Vanessa-Behavior "ПолучитьИзмененияФормыGherkin"

**И** В открытой форме я нажимаю на кнопку с заголовком "Записать и закрыть"

**Тогда** В реквизите Vanessa-Behavior "СгенерированныйСценарий" будет содержаться строка 'элемент формы с именем "Код" стал равен "000000002"'

**Тогда** В реквизите Vanessa-Behavior "СгенерированныйСценарий" будет содержаться строка 'элемент формы с именем "Наименование" стал равен "Тестовый Элемент 2"'

**Тогда** В реквизите Vanessa-Behavior "СгенерированныйСценарий" будет содержаться строка 'элемент формы с именем "Реквизит1" стал равен "ЗначениеПеречисления1"'

**Тогда** В реквизите Vanessa-Behavior "СгенерированныйСценарий" будет содержаться строка 'элемент формы с именем "Реквизит2" стал равен "ТестовыйЭлемент21"'

**Тогда** В реквизите Vanessa-Behavior "СгенерированныйСценарий" будет содержаться строка 'элемент формы с именем "РеквизитЧисло" стал равен "12,34"'

**Тогда** В реквизите Vanessa-Behavior "СгенерированныйСценарий" будет содержаться строка 'элемент формы с именем "РеквизитСтрока" стал равен "тест"'

**Тогда** В реквизите Vanessa-Behavior "СгенерированныйСценарий" будет содержаться строка 'элемент формы с именем "РеквизитДата" стал равен "08.04.1981 0:00:00"'

**Тогда** В реквизите Vanessa-Behavior "СгенерированныйСценарий" будет содержаться строка 'элемент формы с именем "РеквизитБулево" стал равен "Да"'

**Тогда** В реквизите Vanessa-Behavior "СгенерированныйСценарий" будет содержаться строка 'элемент формы с именем "РеквизитПереключатель" стал равен "1"'

**Тогда** В реквизите Vanessa-Behavior "СгенерированныйСценарий" будет содержаться строка 'таблица формы с именем "ТабличнаяЧасть1" стала равной:'

**Тогда** В реквизите Vanessa-Behavior "СгенерированныйСценарий" будет содержаться строка 'элемент формы с именем "Код1" стал равен "000000002"'

**Тогда** В реквизите Vanessa-Behavior "СгенерированныйСценарий" будет содержаться строка 'элемент формы с именем "Наименование2" стал равен "Тестовый Элемент 2"'

**Тогда** В реквизите Vanessa-Behavior "СгенерированныйСценарий" будет содержаться строка 'элемент формы с именем "Наименование1" стал равен "Тестовый Элемент 2"'

**Тогда** В реквизите Vanessa-Behavior "СгенерированныйСценарий" будет содержаться строка 'элемент формы с именем "Реквизит3" стал равен "ЗначениеПеречисления1"'

Автоматизированное получение данных макетов
===========================================

Как Разработчик я хочу

Чтобы у меня был функционал для получения данных макета из TestClient

Для того чтобы я мог использовать их в своих сценариях без программирования

| **Предыстория**                                                                 
 ---------------                                                                  
                                                                                  
 **Дано** Я запускаю сценарий открытия TestClient или подключаю уже существующий  |
|---------------------------------------------------------------------------------|

Я получаю данные макета открытого отдельным окном
-------------------------------------------------

**Когда** я удаляю все элементы Справочника "Справочник3"

**Когда** Я нажимаю кнопку командного интерфейса "Основная"

**И** Я нажимаю кнопку командного интерфейса "Справочник3"

**И** В открытой форме я нажимаю на кнопку с заголовком "Создать"

**Тогда** открылось окно "Справочник3 (создание)"

**И** В открытой форме в поле с заголовком "Наименование" я ввожу текст "Тест"

**И** В открытой форме я нажимаю на кнопку с заголовком "Записать"

**И** В открытой форме я нажимаю на кнопку с заголовком "Сформировать отчет"

**Тогда** Я задаю системные параметры считывания макета НачСтр 1 НачКол 1 КолСтр 30 КолКол 10

**И** Я нажмаю на кнопку Vanessa-Behavior "Забыть состояние формы TestClient"

**И** Я нажмаю на кнопку Vanessa-Behavior "ПолучитьИзмененияФормыGherkin"

**Тогда** В реквизите Vanessa-Behavior "СгенерированныйСценарий" будет содержаться строка 'Предопределенный'

**И** табличный документ формы с именем "РеквизитТабличныйДокумент" стал равен:

| 'Наименование' | 'Предопределенный' | 'ИмяПредопределенныхДанных' |
|----------------|--------------------|-----------------------------|
| 'Тест'         | 'Нет'              | ''                          |


